<div class="row">
    <div class="col-md-4">
        <form novalidate #accountForm="ngForm">
            <div class="form-group">
                <label for="username">Username</label>
                <input id="username" [ngClass]="{'has-error': isRequiredValid(username)}" class="form-control" type="text" name="username" [(ngModel)]="loginDetails.username" #username="ngModel" required />
                <p class="text-danger" *ngIf="isRequiredValid(username)">Username is required</p>
            </div>
            <div class="form-group">
                <label for="password">New password</label>
                <input id="password" [ngClass]="{'has-error': isRequiredValid(password)}" class="form-control" type="password" name="password" [(ngModel)]="loginDetails.password" #password="ngModel" required /> 
                <p class="text-danger" *ngIf="isRequiredValid(password)">Password is required</p>
            </div>
            <div class="form-group">
                <label for="confirmPassword">Confirm password</label>
                <input id="confirmPassword" [ngClass]="{'has-error': isRequiredValid(confirmPassword) || passwordDoesNotMatchConfirmation(password, confirmPassword)}"  class="form-control" type="password" name="confirmPassword" [(ngModel)]="loginDetails.confirmPassword" #confirmPassword="ngModel" required /> 
                <p class="text-danger" *ngIf="isRequiredValid(confirmPassword)">Password confirmation is required</p>
                <p class="text-danger" *ngIf="passwordDoesNotMatchConfirmation(password, confirmPassword)">Passwords do not match</p>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary" (click)="save()" [disabled]="isSubmitted || (accountForm.invalid || passwordDoesNotMatchConfirmation(password, confirmPassword))">Save account</button>
            </div>
        </form>
    </div>
</div>